{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/Terminator/Desktop/Spring2021/CS4440/ACIDMS/screens/ServerReturnInventoryScreen.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { ScrollView } from 'react-native-gesture-handler';\nimport StationBox from 'components/StationBox';\nimport DrinkBox from 'components/DrinkBox';\nimport InventoryTopBox from 'components/InventoryTopBox';\nimport ReturnInventoryModal from 'components/ReturnInventoryModal';\nimport Station, { getGlobalStations, getGlobalStation } from 'model/Station';\nimport { globalInventory } from 'model/Inventory';\nimport Job from 'model/Job';\n\nvar ServerReturnInventoryScreen = function (_React$Component) {\n  _inherits(ServerReturnInventoryScreen, _React$Component);\n\n  var _super = _createSuper(ServerReturnInventoryScreen);\n\n  function ServerReturnInventoryScreen() {\n    var _this;\n\n    _classCallCheck(this, ServerReturnInventoryScreen);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      inventorySelected: null,\n      scrollViewHeight: 0,\n      elementHeight: 0,\n      stationModalVisible: false,\n      station: new Station(),\n      drinks: [],\n      pairItems: [],\n      availableDrinkType: [],\n      stationSelected: false,\n      totalValue: 0,\n      assignInventoryModalVisible: false\n    };\n    _this._scrollView1 = React.createRef();\n    return _this;\n  }\n\n  _createClass(ServerReturnInventoryScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateData();\n    }\n  }, {\n    key: \"onDrinkBoxLayout\",\n    value: function onDrinkBoxLayout(event) {\n      this.setState({\n        elementHeight: event.nativeEvent.layout.height\n      });\n    }\n  }, {\n    key: \"onReturnInvModalSave\",\n    value: function onReturnInvModalSave(drink) {\n      var _this2 = this;\n\n      var drinkToUpdate = this.state.station.drinks.find(function (drink) {\n        return drink.name === _this2.state.drinks[_this2.state.inventorySelected].name;\n      });\n      drinkToUpdate.subtract(drink);\n      this.state.station.updateDrink(drinkToUpdate);\n      Job.createNewJob(drink, this.state.station.key, this.state.pairItems, \"Transfer\");\n      this.setState({\n        assignInventoryModalVisible: false,\n        inventorySelected: null,\n        stationSelected: false,\n        availableDrinkType: []\n      });\n      this.updateData();\n    }\n  }, {\n    key: \"updateData\",\n    value: function updateData() {\n      var stations = getGlobalStations();\n      var newStations = {};\n      var newTotalValue = 0;\n      stations.map(function (station) {\n        newTotalValue += station.getTotalValue();\n        newStations[station.key] = station;\n      });\n      this.setState({\n        station: getGlobalStation(this.props.route.params.stationId),\n        drinks: globalInventory.drinks,\n        totalValue: newTotalValue\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(TouchableOpacity, {\n        activeOpacity: 1,\n        style: styles.container,\n        touchable: true,\n        onPress: function onPress() {\n          return _this3.setState({\n            inventorySelected: null,\n            stationSelected: false,\n            availableDrinkType: []\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }\n      }, React.createElement(ReturnInventoryModal, {\n        ref: function ref(m) {\n          _this3.returnInventoryModal = m;\n        },\n        visible: this.state.assignInventoryModalVisible,\n        onSave: this.onReturnInvModalSave.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }\n      }), React.createElement(InventoryTopBox, {\n        inventory: \"Return\",\n        touchable: true,\n        onPress: function onPress() {\n          return _this3.props.navigation.navigate(\"Return Inventory Detailed Data\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }\n      }), React.createElement(View, {\n        style: styles.scrollsContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: {\n          width: '50%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }\n      }, React.createElement(ScrollView, {\n        showsVerticalScrollIndicator: false,\n        contentContainerStyle: {\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 25\n        }\n      }, React.createElement(StationBox, {\n        verb: \"Return to\",\n        station: this.state.station,\n        totalValue: this.state.totalValue,\n        inventorySelected: this.state.stationSelected ? \"\" : null,\n        onPressStats: function onPressStats() {\n          _this3.setState({\n            stationSelected: true,\n            availableDrinkType: _this3.state.station.drinks.map(function (drink) {\n              return drink.name;\n            })\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 29\n        }\n      }))), React.createElement(View, {\n        style: {\n          width: '50%'\n        },\n        onLayout: function onLayout(event) {\n          return _this3.setState({\n            scrollViewHeight: event.nativeEvent.layout.height\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }\n      }, React.createElement(ScrollView, {\n        showsVerticalScrollIndicator: false,\n        contentContainerStyle: {\n          alignItems: 'center'\n        },\n        ref: this._scrollView1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 25\n        }\n      }, this.state.drinks.map(function (drink, index) {\n        var disabled = _this3.state.availableDrinkType.length == 0 || !_this3.state.availableDrinkType.includes(drink.name);\n\n        var onPress = function onPress() {\n          var selectedDrink = _this3.state.station.findDrinkWithDrinkType(_this3.state.drinks[index].name);\n\n          _this3.returnInventoryModal.inputDrinkAndStation(selectedDrink, _this3.state.station.name);\n\n          _this3.setState({\n            assignInventoryModalVisible: true,\n            inventorySelected: index\n          });\n        };\n\n        return React.createElement(DrinkBox, {\n          key: index,\n          onPress: disabled ? null : onPress,\n          drink: drink,\n          greyed: disabled,\n          onLayout: _this3.onDrinkBoxLayout.bind(_this3),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 37\n          }\n        });\n      })))));\n    }\n  }]);\n\n  return ServerReturnInventoryScreen;\n}(React.Component);\n\nexport { ServerReturnInventoryScreen as default };\n;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f2f2f2',\n    alignItems: 'center',\n    justifyContent: 'flex-start'\n  },\n  boldText: {\n    fontSize: 18,\n    fontWeight: 'bold'\n  },\n  iconBox: {\n    width: '100%',\n    height: '100%',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  icon: {\n    width: '80%',\n    height: '80%',\n    borderRadius: 15,\n    overflow: 'hidden',\n    resizeMode: 'contain'\n  },\n  scrollsContainer: {\n    height: '80%',\n    width: '90%',\n    flexDirection: 'row',\n    justifyContent: 'center'\n  }\n});","map":{"version":3,"sources":["/Users/Terminator/Desktop/Spring2021/CS4440/ACIDMS/screens/ServerReturnInventoryScreen.js"],"names":["React","ScrollView","StationBox","DrinkBox","InventoryTopBox","ReturnInventoryModal","Station","getGlobalStations","getGlobalStation","globalInventory","Job","ServerReturnInventoryScreen","state","inventorySelected","scrollViewHeight","elementHeight","stationModalVisible","station","drinks","pairItems","availableDrinkType","stationSelected","totalValue","assignInventoryModalVisible","_scrollView1","createRef","updateData","event","setState","nativeEvent","layout","height","drink","drinkToUpdate","find","name","subtract","updateDrink","createNewJob","key","stations","newStations","newTotalValue","map","getTotalValue","props","route","params","stationId","styles","container","m","returnInventoryModal","onReturnInvModalSave","bind","navigation","navigate","scrollsContainer","width","alignItems","index","disabled","length","includes","onPress","selectedDrink","findDrinkWithDrinkType","inputDrinkAndStation","onDrinkBoxLayout","Component","StyleSheet","create","flex","backgroundColor","justifyContent","boldText","fontSize","fontWeight","iconBox","icon","borderRadius","overflow","resizeMode","flexDirection"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity, Image } from 'react-native';\nimport { ScrollView } from 'react-native-gesture-handler';\nimport StationBox from 'components/StationBox';\nimport DrinkBox from 'components/DrinkBox';\nimport InventoryTopBox from 'components/InventoryTopBox';\nimport ReturnInventoryModal from 'components/ReturnInventoryModal';\nimport Station, { getGlobalStations, getGlobalStation } from 'model/Station';\nimport { globalInventory } from 'model/Inventory';\nimport Job from 'model/Job';\n\nexport default class ServerReturnInventoryScreen extends React.Component {\n    state = {\n        inventorySelected: null,\n        scrollViewHeight: 0,\n        elementHeight: 0,\n        stationModalVisible: false,\n        station: new Station(),\n        drinks: [],\n        pairItems: [],\n        availableDrinkType: [],\n        stationSelected: false,\n        totalValue: 0,\n        assignInventoryModalVisible: false\n    };\n\n     _scrollView1 = React.createRef();\n\n    componentDidMount() {\n        this.updateData();\n    }\n\n    onDrinkBoxLayout(event) {\n        this.setState({elementHeight: event.nativeEvent.layout.height});\n    }\n\n    onReturnInvModalSave(drink) {\n        var drinkToUpdate = this.state.station.drinks.find(drink => {\n            return drink.name === this.state.drinks[this.state.inventorySelected].name;\n        });\n        drinkToUpdate.subtract(drink);\n        this.state.station.updateDrink(drinkToUpdate);\n        Job.createNewJob(drink, this.state.station.key, this.state.pairItems, \"Transfer\");\n        this.setState({\n            assignInventoryModalVisible: false,\n            inventorySelected: null,\n            stationSelected: false,\n            availableDrinkType: [],\n        });\n        this.updateData();\n    }\n\n    updateData() {\n        var stations = getGlobalStations();\n        var newStations = {};\n        var newTotalValue = 0;\n        stations.map(station => {\n            newTotalValue += station.getTotalValue();\n            newStations[station.key] = station;\n        });\n        this.setState({\n            station: getGlobalStation(this.props.route.params.stationId),\n            drinks: globalInventory.drinks,\n            totalValue: newTotalValue\n        });\n    }\n\n    render() {\n        return (\n            <TouchableOpacity\n                activeOpacity={1}\n                style={styles.container}\n                touchable\n                onPress={() => this.setState({\n                    inventorySelected: null,\n                    stationSelected: false,\n                    availableDrinkType: [],\n                })}>\n                <ReturnInventoryModal\n                    ref={m => {this.returnInventoryModal = m}}\n                    visible={this.state.assignInventoryModalVisible} \n                    onSave={this.onReturnInvModalSave.bind(this)} />\n                <InventoryTopBox inventory={\"Return\"} touchable onPress={() => this.props.navigation.navigate(\"Return Inventory Detailed Data\")}/>\n                <View style={styles.scrollsContainer}>\n                    <View style={{width: '50%'}}>\n                        <ScrollView\n                            showsVerticalScrollIndicator={false}\n                            contentContainerStyle={{\n                                alignItems: 'center'\n                            }}>\n                            <StationBox\n                                verb={\"Return to\"}\n                                station={this.state.station}\n                                totalValue={this.state.totalValue}\n                                inventorySelected={this.state.stationSelected ? \"\" : null}\n                                onPressStats={() => {\n                                    this.setState({\n                                        stationSelected: true,\n                                        availableDrinkType: this.state.station.drinks.map(drink => drink.name)\n                                    });\n                                }}\n                                />\n                        </ScrollView>\n                    </View>\n                    <View\n                        style={{width: '50%'}}\n                        onLayout={(event) => this.setState({scrollViewHeight: event.nativeEvent.layout.height})}>\n                        <ScrollView\n                            showsVerticalScrollIndicator={false}\n                            contentContainerStyle={{\n                                alignItems: 'center'\n                            }}\n                            ref={this._scrollView1}>\n                            {this.state.drinks.map((drink, index) => {\n                                var disabled = this.state.availableDrinkType.length == 0 || \n                                                !this.state.availableDrinkType.includes(drink.name);\n                                var onPress = () => {\n                                    var selectedDrink = this.state.station.findDrinkWithDrinkType(this.state.drinks[index].name);\n                                    this.returnInventoryModal.inputDrinkAndStation(selectedDrink, this.state.station.name);\n                                    this.setState({\n                                        assignInventoryModalVisible: true,\n                                        inventorySelected: index\n                                    });\n                                };\n                                return (\n                                    <DrinkBox\n                                        key={index}\n                                        onPress={disabled ? null : onPress}\n                                        drink={drink}\n                                        greyed={disabled}\n                                        onLayout={this.onDrinkBoxLayout.bind(this)}/>\n                                );\n                            })}\n                        </ScrollView>\n                    </View>\n                </View>\n            </TouchableOpacity>\n        );\n    }\n};\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        backgroundColor: '#f2f2f2',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n    },\n    boldText: {\n        fontSize: 18,\n        fontWeight: 'bold'\n    },\n    iconBox: {\n        width: '100%',\n        height: '100%',\n        justifyContent: 'center',\n        alignItems: 'center',\n    },\n    icon: {\n        width: '80%',\n        height: '80%',\n        borderRadius: 15,\n        overflow: 'hidden',\n        resizeMode: 'contain'\n    },\n    scrollsContainer: {\n        height: '80%',\n        width: '90%',\n        flexDirection: 'row',\n        justifyContent: 'center'\n    }\n});"]},"metadata":{},"sourceType":"module"}