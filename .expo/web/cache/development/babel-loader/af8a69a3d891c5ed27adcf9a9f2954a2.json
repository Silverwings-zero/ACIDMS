{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/Terminator/Desktop/Spring2021/CS4440/ACIDMS/screens/TotalStationInventoryDetailedDataScreen.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport React, { useState, useEffect } from 'react';\nimport ShadowedBox from 'components/ShadowedBox';\nimport { ScrollView } from 'react-native-gesture-handler';\nimport Accordion from 'react-native-collapsible/Accordion';\nimport Station from 'model/Station';\nexport default function TotalStationInventoryDetailedDataScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState([0]),\n      _useState2 = _slicedToArray(_useState, 2),\n      activeSections = _useState2[0],\n      setSections = _useState2[1];\n\n  var _useState3 = useState([0]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      activeStations = _useState4[0],\n      setActiveStations = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      stations = _useState6[0],\n      setStations = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      availItems = _useState8[0],\n      setAvail = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      soldItems = _useState10[0],\n      setSold = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      totalItems = _useState12[0],\n      setTotal = _useState12[1];\n\n  var sections = ['avail', 'sold'];\n  var images = {\n    dropDownIcon: require('assets/drop-down-arrow.png'),\n    dropUpIcon: require('assets/drop-up-arrow.png')\n  };\n  useEffect(function () {\n    var _Station$getTotalDeta = Station.getTotalDetailedData(),\n        _Station$getTotalDeta2 = _slicedToArray(_Station$getTotalDeta, 3),\n        avail = _Station$getTotalDeta2[0],\n        sold = _Station$getTotalDeta2[1],\n        total = _Station$getTotalDeta2[2];\n\n    setAvail(avail);\n    setSold(sold);\n    setTotal(total);\n    var stationKeys = [];\n    sold.map(function (station) {\n      stationKeys.push(station.stationKey);\n    });\n    setStations(stationKeys);\n  }, []);\n\n  var textColor = function textColor(text) {\n    var rate = Number(text);\n\n    if (rate < 26) {\n      return '#F71E0C';\n    } else if (rate < 70) {\n      return '#E8BD38';\n    }\n\n    return '#1CD338';\n  };\n\n  var total = function total(text) {\n    var res = 0;\n\n    if (text == 'total') {\n      totalItems.map(function (num) {\n        return res += num;\n      });\n    } else if (text == 'avail') {\n      availItems.map(function (item) {\n        return res += item.avail;\n      });\n    } else if (text == 'sold') {\n      soldItems.map(function (station) {\n        station.sold.map(function (item) {\n          return res += item.sold;\n        });\n      });\n    } else {\n      soldItems.map(function (station) {\n        if (station.stationKey == text) {\n          station.sold.map(function (item) {\n            return res += item.sold;\n          });\n        }\n      });\n    }\n\n    return res;\n  };\n\n  var percent = function percent(a, b) {\n    if (Number(b) == 0) {\n      return 0;\n    }\n\n    return Math.round(a * 100 / b);\n  };\n\n  var totalValue = function totalValue(text) {\n    var res = 0;\n\n    if (text == 'total') {\n      availItems.map(function (item) {\n        return res += total[item.key] * item.price;\n      });\n    } else if (text == 'avail') {\n      availItems.map(function (item) {\n        return res += item.avail * item.price;\n      });\n    } else if (text == 'sold') {\n      soldItems.map(function (station) {\n        station.sold.map(function (item) {\n          return res += item.sold * item.price;\n        });\n      });\n    } else {\n      soldItems.map(function (station) {\n        if (station.stationKey == text) {\n          station.sold.map(function (item) {\n            return res += item.sold * item.price;\n          });\n        }\n      });\n    }\n\n    return res;\n  };\n\n  var getTitle = function getTitle(text) {\n    if (text == 'avail') {\n      return 'Available';\n    } else {\n      return 'Sold';\n    }\n  };\n\n  var getImage = function getImage(text) {\n    if (text == 'avail' || text == 'sold') {\n      var index = sections.findIndex(function (item) {\n        return item === text;\n      });\n\n      if (activeSections.findIndex(function (item) {\n        return item === index;\n      }) > -1) {\n        return images.dropUpIcon;\n      } else {\n        return images.dropDownIcon;\n      }\n    } else {\n      var _index = stations.findIndex(function (item) {\n        return item === text;\n      });\n\n      if (activeStations.findIndex(function (item) {\n        return item === _index;\n      }) > -1) {\n        return images.dropUpIcon;\n      } else {\n        return images.dropDownIcon;\n      }\n    }\n  };\n\n  var formatNum = function formatNum(num) {\n    if (num != null) {\n      return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n    }\n  };\n\n  var stationItemList = function stationItemList(text) {\n    var station = soldItems.find(function (item) {\n      return item.stationKey == text;\n    });\n    return React.createElement(View, {\n      style: {\n        marginLeft: 30\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 10\n      }\n    }, station.sold.map(function (item) {\n      return React.createElement(View, {\n        style: styles.rowView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 6\n        }\n      }, React.createElement(View, {\n        style: {\n          width: \"100%\",\n          flexDirection: \"row\",\n          justifyContent: \"space-between\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 7\n        }\n      }, React.createElement(Text, {\n        style: styles.rowTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 8\n        }\n      }, item.name), React.createElement(Text, {\n        style: _objectSpread(_objectSpread({}, styles.rowTitle), {}, {\n          color: textColor(percent(item.sold, totalItems[item.key])),\n          fontSize: 20,\n          textAlign: \"right\",\n          flex: 1\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 8\n        }\n      }, percent(item.sold, totalItems[item.key]), \"%\")), React.createElement(View, {\n        style: {\n          width: \"100%\",\n          flexDirection: \"row\",\n          justifyContent: \"space-between\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 7\n        }\n      }, React.createElement(Text, {\n        style: styles.rowText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 8\n        }\n      }, \" Qty: \", formatNum(item.sold), \" of \", formatNum(totalItems[item.key])), React.createElement(Text, {\n        style: styles.rowText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 8\n        }\n      }, \"$ \", formatNum(item.sold * item.price), \" \")));\n    }));\n  };\n\n  var itemList = function itemList(text) {\n    if (text == 'avail') {\n      return React.createElement(View, {\n        style: {\n          marginLeft: 30\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }\n      }, availItems.map(function (item) {\n        return React.createElement(View, {\n          style: styles.rowView,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 7\n          }\n        }, React.createElement(View, {\n          style: {\n            width: \"100%\",\n            flexDirection: \"row\",\n            justifyContent: \"space-between\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 8\n          }\n        }, React.createElement(Text, {\n          style: styles.rowTitle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 9\n          }\n        }, item.name), React.createElement(Text, {\n          style: _objectSpread(_objectSpread({}, styles.rowTitle), {}, {\n            color: textColor(percent(item.avail, totalItems[item.key])),\n            fontSize: 20,\n            textAlign: \"right\",\n            flex: 1\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 9\n          }\n        }, percent(item.avail, totalItems[item.key]), \"%\")), React.createElement(View, {\n          style: {\n            width: \"100%\",\n            flexDirection: \"row\",\n            justifyContent: \"space-between\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 8\n          }\n        }, React.createElement(Text, {\n          style: styles.rowText,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 9\n          }\n        }, \" Qty: \", formatNum(item.avail), \" of \", formatNum(totalItems[item.key])), React.createElement(Text, {\n          style: styles.rowText,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 9\n          }\n        }, \"$ \", formatNum(item.avail * item.price), \" \")));\n      }));\n    } else {\n      return React.createElement(View, {\n        style: {\n          marginLeft: 30\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }\n      }, React.createElement(Accordion, {\n        activeSections: activeStations,\n        sections: stations,\n        renderHeader: listTitle,\n        renderContent: stationItemList,\n        onChange: setActiveStations,\n        underlayColor: \"#f2f2f2\",\n        expandMultiple: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 5\n        }\n      }));\n    }\n  };\n\n  var listTitle = function listTitle(text) {\n    if (text == 'avail' || text == 'sold') {\n      return React.createElement(View, {\n        style: styles.rowView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 5\n        }\n      }, React.createElement(View, {\n        style: {\n          width: \"100%\",\n          height: 20,\n          flexDirection: \"row\",\n          alignItems: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 6\n        }\n      }, React.createElement(Text, {\n        style: styles.rowTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 7\n        }\n      }, getTitle(text), \":\"), React.createElement(Image, {\n        source: getImage(text),\n        style: {\n          width: \"5%\",\n          marginHorizontal: 10,\n          tintColor: \"grey\"\n        },\n        resizeMode: \"contain\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 7\n        }\n      })), React.createElement(View, {\n        style: {\n          width: \"100%\",\n          flexDirection: \"row\",\n          justifyContent: \"space-between\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 6\n        }\n      }, React.createElement(Text, {\n        style: styles.rowText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 7\n        }\n      }, \" Qty: \", formatNum(total(text)), \" of \", formatNum(total('total'))), React.createElement(Text, {\n        style: styles.rowText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 7\n        }\n      }, \"$ \", formatNum(totalValue(text)), \" \")));\n    } else {\n      return React.createElement(View, {\n        style: styles.rowView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 5\n        }\n      }, React.createElement(View, {\n        style: {\n          width: \"100%\",\n          height: 20,\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 6\n        }\n      }, React.createElement(Text, {\n        style: styles.rowTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 7\n        }\n      }, \"Station \", text, \":\"), React.createElement(Image, {\n        source: getImage(text),\n        style: {\n          width: \"5%\",\n          marginHorizontal: 10,\n          tintColor: \"grey\"\n        },\n        resizeMode: \"contain\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 7\n        }\n      }), React.createElement(Text, {\n        style: _objectSpread(_objectSpread({}, styles.rowTitle), {}, {\n          color: textColor(percent(total(text), total('sold'))),\n          fontSize: 20,\n          textAlign: \"right\",\n          flex: 1\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 7\n        }\n      }, percent(total(text), total('sold')), \"%\")), React.createElement(View, {\n        style: {\n          width: \"100%\",\n          flexDirection: \"row\",\n          justifyContent: \"space-between\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 6\n        }\n      }, React.createElement(Text, {\n        style: styles.rowText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 7\n        }\n      }, \" Qty: \", formatNum(total(text)), \" of \", formatNum(total('sold'))), React.createElement(Text, {\n        style: styles.rowText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 7\n        }\n      }, \"$ \", formatNum(totalValue(text)), \" \")));\n    }\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 3\n    }\n  }, React.createElement(ShadowedBox, {\n    width: '90%',\n    margin: 10,\n    justifyContent: 'flex-start',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 4\n    }\n  }, React.createElement(View, {\n    style: {\n      width: '90%',\n      marginTop: 25,\n      marginBottom: 10,\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"flex-start\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: styles.sectionTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 6\n    }\n  }, \"Station Inventory:\"), React.createElement(View, {\n    style: {\n      flexDirection: \"column\",\n      justifyContent: \"flex-end\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 6\n    }\n  }, React.createElement(Text, {\n    style: _objectSpread(_objectSpread({}, styles.sectionTitle), {}, {\n      color: textColor(percent(total('avail'), total('total'))),\n      textAlign: 'right',\n      fontSize: 30\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 7\n    }\n  }, percent(total('avail'), total('total')), \"%\"), React.createElement(Text, {\n    style: _objectSpread(_objectSpread({}, styles.rowText), {}, {\n      color: textColor(percent(total('avail'), total('total'))),\n      fontSize: 14\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }\n  }, \"Available Inventory\"))), React.createElement(View, {\n    style: {\n      width: '90%',\n      marginBottom: 25,\n      maxHeight: '80%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 17\n    }\n  }, React.createElement(ScrollView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 21\n    }\n  }, React.createElement(Accordion, {\n    activeSections: activeSections,\n    sections: sections,\n    renderHeader: listTitle,\n    renderContent: itemList,\n    onChange: setSections,\n    underlayColor: \"#f2f2f2\",\n    expandMultiple: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }\n  })))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f2f2f2',\n    alignItems: 'center',\n    justifyContent: 'flex-start'\n  },\n  rowView: {\n    width: \"100%\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    alignItems: \"flex-end\",\n    borderBottomColor: \"grey\",\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    padding: 5\n  },\n  sectionTitle: {\n    color: \"black\",\n    fontFamily: \"Arial-BoldMT\",\n    fontSize: 20,\n    fontWeight: \"bold\",\n    textAlign: \"left\"\n  },\n  rowTitle: {\n    color: \"#5C5A5A\",\n    fontFamily: \"Arial-BoldMT\",\n    fontSize: 16,\n    fontWeight: \"bold\",\n    textAlign: \"left\",\n    marginBottom: 2\n  },\n  rowText: {\n    color: \"#5C5A5A\",\n    fontFamily: \"Arial\",\n    fontSize: 16,\n    fontWeight: \"normal\",\n    textAlign: \"left\"\n  }\n});","map":{"version":3,"sources":["/Users/Terminator/Desktop/Spring2021/CS4440/ACIDMS/screens/TotalStationInventoryDetailedDataScreen.js"],"names":["React","useState","useEffect","ShadowedBox","ScrollView","Accordion","Station","TotalStationInventoryDetailedDataScreen","navigation","activeSections","setSections","activeStations","setActiveStations","stations","setStations","availItems","setAvail","soldItems","setSold","totalItems","setTotal","sections","images","dropDownIcon","require","dropUpIcon","getTotalDetailedData","avail","sold","total","stationKeys","map","station","push","stationKey","textColor","text","rate","Number","res","num","item","percent","a","b","Math","round","totalValue","key","price","getTitle","getImage","index","findIndex","formatNum","toString","replace","stationItemList","find","marginLeft","styles","rowView","width","flexDirection","justifyContent","rowTitle","name","color","fontSize","textAlign","flex","rowText","itemList","listTitle","height","alignItems","marginHorizontal","tintColor","container","marginTop","marginBottom","sectionTitle","maxHeight","StyleSheet","create","backgroundColor","borderBottomColor","borderBottomWidth","hairlineWidth","padding","fontFamily","fontWeight"],"mappings":"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","sourcesContent":["import { StyleSheet, Text, View, Image } from 'react-native';\nimport React, { useState, useEffect } from 'react';\nimport ShadowedBox from 'components/ShadowedBox';\nimport { ScrollView } from 'react-native-gesture-handler';\nimport Accordion from 'react-native-collapsible/Accordion';\nimport Station from 'model/Station';\n\nexport default function TotalStationInventoryDetailedDataScreen({ navigation }) {\n\n\tconst [activeSections, setSections] = useState([0]);\n\tconst [activeStations, setActiveStations] = useState([0]);\n\tconst [stations, setStations] = useState([]);\n\tconst [availItems, setAvail] = useState([]);\n\tconst [soldItems, setSold] = useState([]);\n\tconst [totalItems, setTotal] = useState([]);\n\tconst sections = ['avail', 'sold'];\n\tconst images = {\n\t\tdropDownIcon: require('assets/drop-down-arrow.png'),\n\t\tdropUpIcon: require('assets/drop-up-arrow.png')\n\t}\n\n\tuseEffect(() => {\n\t\tvar [avail, sold, total] = Station.getTotalDetailedData();\n\t\tsetAvail(avail);\n\t\tsetSold(sold);\n\t\tsetTotal(total);\n\t\tvar stationKeys = [];\n\t\tsold.map(station => {\n\t\t\tstationKeys.push(station.stationKey);\n\t\t});\n\t\tsetStations(stationKeys);\n\t}, [])\n\n\tconst textColor = (text) => {\n\t\tlet rate = Number(text);\n        if (rate < 26) {\n\t\t\treturn '#F71E0C';\n\t\t} else if (rate < 70) {\n\t\t\treturn '#E8BD38';\n\t\t}\n        return '#1CD338';\n\t}\n\n\tconst total = (text) => {\n\t\tlet res = 0;\n\t\tif (text == 'total') {\n\t\t\ttotalItems.map(num => res += num);\n\t\t} else if (text == 'avail') {\n\t\t\tavailItems.map(item => res += item.avail);\n\t\t} else if (text == 'sold') {\n\t\t\tsoldItems.map(station => {\n\t\t\t\tstation.sold.map(item => res += item.sold);\n\t\t\t});\n\t\t} else {\n\t\t\tsoldItems.map(station => {\n\t\t\t\tif (station.stationKey == text) {\n\t\t\t\t\tstation.sold.map(item => res += item.sold);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn res;\n\t}\n\n\tconst percent = (a, b) => {\n\t\tif (Number(b) == 0) {\n\t\t\treturn 0\n\t\t}\n\t\treturn  Math.round(a * 100 / b);\n\t}\n\n\tconst totalValue = (text) => {\n\t\tlet res = 0;\n\t\tif (text == 'total') {\n\t\t\tavailItems.map(item => res += total[item.key] * item.price);\n\t\t} else if (text == 'avail') {\n\t\t\tavailItems.map(item => res += item.avail * item.price);\n\t\t} else if (text == 'sold') {\n\t\t\tsoldItems.map(station => {\n\t\t\t\tstation.sold.map(item => res += item.sold * item.price);\n\t\t\t});\n\t\t} else {\n\t\t\tsoldItems.map(station => {\n\t\t\t\tif (station.stationKey == text) {\n\t\t\t\t\tstation.sold.map(item => res += item.sold * item.price);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn res;\n\t}\n\n\tconst getTitle = (text) => {\n\t\tif (text == 'avail') {\n\t\t\treturn 'Available'\n\t\t} else {\n\t\t\treturn 'Sold'\n\t\t}\n\t}\n\n\tconst getImage = (text) => {\n\t\tif (text == 'avail' || text == 'sold') {\n\t\t\tlet index = sections.findIndex(item => item === text)\n\t\t\tif (activeSections.findIndex(item => item === index) > -1) {\n\t\t\t\treturn images.dropUpIcon\n\t\t\t} else {\n\t\t\t\treturn images.dropDownIcon\n\t\t\t}\n\t\t} else {\n\t\t\tlet index = stations.findIndex(item => item === text)\n\t\t\tif (activeStations.findIndex(item => item === index) > -1) {\n\t\t\t\treturn images.dropUpIcon\n\t\t\t} else {\n\t\t\t\treturn images.dropDownIcon\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\n\tconst formatNum = (num) => {\n\t\tif (num != null) {\n\t\t\treturn num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n\t\t}\n\t}\n\n\tconst stationItemList = (text) => {\n\t\tlet station = soldItems.find(item => item.stationKey == text);\n\t\treturn <View style={{marginLeft: 30}}>\n\t\t\t{station.sold.map(item => {\n\t\t\t\treturn (\n\t\t\t\t\t<View style={styles.rowView}>\n\t\t\t\t\t\t<View style={{\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\tflexDirection: \"row\",\n\t\t\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<Text style={styles.rowTitle}>{item.name}</Text>\n\t\t\t\t\t\t\t<Text style={{\n\t\t\t\t\t\t\t\t...styles.rowTitle, \n\t\t\t\t\t\t\t\tcolor: textColor(percent(item.sold, totalItems[item.key])), \n\t\t\t\t\t\t\t\tfontSize: 20,\n\t\t\t\t\t\t\t\ttextAlign: \"right\",\n\t\t\t\t\t\t\t\tflex: 1\n\t\t\t\t\t\t\t}}>{percent(item.sold, totalItems[item.key])}%</Text>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t\t<View style={{\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\tflexDirection: \"row\",\n\t\t\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<Text style={styles.rowText}> Qty: {formatNum(item.sold)} of {formatNum(totalItems[item.key])}</Text>\n\t\t\t\t\t\t\t<Text style={styles.rowText}>$ {formatNum(item.sold * item.price)} </Text>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</View>\n\t\t\t\t);\n\t\t\t})}\n\t\t</View>\n\t}\n\n\tconst itemList = (text) => {\n\t\tif (text == 'avail') {\n\t\t\treturn <View style={{marginLeft: 30}}>\n\t\t\t\t{availItems.map(item => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<View style={styles.rowView}>\n\t\t\t\t\t\t\t<View style={{\n\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\tflexDirection: \"row\",\n\t\t\t\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<Text style={styles.rowTitle}>{item.name}</Text>\n\t\t\t\t\t\t\t\t<Text style={{\n\t\t\t\t\t\t\t\t\t...styles.rowTitle, \n\t\t\t\t\t\t\t\t\tcolor: textColor(percent(item.avail, totalItems[item.key])), \n\t\t\t\t\t\t\t\t\tfontSize: 20,\n\t\t\t\t\t\t\t\t\ttextAlign: \"right\",\n\t\t\t\t\t\t\t\t\tflex: 1\n\t\t\t\t\t\t\t\t}}>{percent(item.avail, totalItems[item.key])}%</Text>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t<View style={{\n\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\tflexDirection: \"row\",\n\t\t\t\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<Text style={styles.rowText}> Qty: {formatNum(item.avail)} of {formatNum(totalItems[item.key])}</Text>\n\t\t\t\t\t\t\t\t<Text style={styles.rowText}>$ {formatNum(item.avail * item.price)} </Text>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</View>\n\t\t} else {\n\t\t\treturn <View style={{marginLeft: 30}}>\n\t\t\t\t<Accordion\n\t\t\t\t\tactiveSections={activeStations}\n\t\t\t\t\tsections={stations}\n\t\t\t\t\trenderHeader={listTitle}\n\t\t\t\t\trenderContent={stationItemList}\n\t\t\t\t\tonChange={setActiveStations}\n\t\t\t\t\tunderlayColor='#f2f2f2'\n\t\t\t\t\texpandMultiple={true}\n\t\t\t\t/>\n\t\t\t</View>\n\t\t}\n\t}\n\n\tconst listTitle = (text) => {\n\t\tif (text == 'avail' || text == 'sold') {\n\t\t\treturn (\n\t\t\t\t<View style={styles.rowView}>\n\t\t\t\t\t<View style={{\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\theight: 20,\n\t\t\t\t\t\tflexDirection: \"row\",\n\t\t\t\t\t\talignItems: \"center\"\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Text style={styles.rowTitle}>{getTitle(text)}:</Text>\n\t\t\t\t\t\t<Image \n\t\t\t\t\t\t\tsource={getImage(text)}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\twidth: \"5%\",\n\t\t\t\t\t\t\t\tmarginHorizontal: 10,\n\t\t\t\t\t\t\t\ttintColor: \"grey\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tresizeMode=\"contain\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</View>\n\t\t\t\t\t<View style={{\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\tflexDirection: \"row\",\n\t\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Text style={styles.rowText}> Qty: {formatNum(total(text))} of {formatNum(total('total'))}</Text>\n\t\t\t\t\t\t<Text style={styles.rowText}>$ {formatNum(totalValue(text))} </Text>\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<View style={styles.rowView}>\n\t\t\t\t\t<View style={{\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\theight: 20,\n\t\t\t\t\t\tflexDirection: \"row\",\n\t\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\t\talignItems: \"center\"\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Text style={styles.rowTitle}>Station {text}:</Text>\n\t\t\t\t\t\t<Image \n\t\t\t\t\t\t\tsource={getImage(text)}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\twidth: \"5%\",\n\t\t\t\t\t\t\t\tmarginHorizontal: 10,\n\t\t\t\t\t\t\t\ttintColor: \"grey\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tresizeMode=\"contain\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Text style={{\n\t\t\t\t\t\t\t...styles.rowTitle, \n\t\t\t\t\t\t\tcolor: textColor(percent(total(text), total('sold'))), \n\t\t\t\t\t\t\tfontSize: 20,\n\t\t\t\t\t\t\ttextAlign: \"right\",\n\t\t\t\t\t\t\tflex: 1\n\t\t\t\t\t\t}}>{percent(total(text), total('sold'))}%</Text>\n\t\t\t\t\t</View>\n\t\t\t\t\t<View style={{\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\tflexDirection: \"row\",\n\t\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Text style={styles.rowText}> Qty: {formatNum(total(text))} of {formatNum(total('sold'))}</Text>\n\t\t\t\t\t\t<Text style={styles.rowText}>$ {formatNum(totalValue(text))} </Text>\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n\t\t\t);\n\t\t}\t\t\n\t}\n\n\treturn (\n\t\t<View style={styles.container}>\n\t\t\t<ShadowedBox width={'90%'} margin={10} justifyContent={'flex-start'}>\n\t\t\t\t<View style={{\n\t\t\t\t\twidth: '90%',\n\t\t\t\t\tmarginTop: 25,\n                    marginBottom: 10,\n                    flexDirection: \"row\",\n                    justifyContent: \"space-between\",\n\t\t\t\t\talignItems: \"flex-start\",\n\t\t\t\t}}>\n\t\t\t\t\t<Text style={styles.sectionTitle}>Station Inventory:</Text>\n\t\t\t\t\t<View style={{\n\t\t\t\t\t\tflexDirection: \"column\",\n\t\t\t\t\t\tjustifyContent: \"flex-end\",\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Text style={{\n\t\t\t\t\t\t\t...styles.sectionTitle,\n\t\t\t\t\t\t\tcolor: textColor(percent(total('avail'), total('total'))),\n\t\t\t\t\t\t\ttextAlign: 'right',\n\t\t\t\t\t\t\tfontSize: 30\n\t\t\t\t\t\t}}>{percent(total('avail'), total('total'))}%</Text>\n\t\t\t\t\t\t<Text style={{\n\t\t\t\t\t\t\t...styles.rowText,\n\t\t\t\t\t\t\tcolor: textColor(percent(total('avail'), total('total'))),\n\t\t\t\t\t\t\tfontSize: 14\n\t\t\t\t\t\t}}>Available Inventory</Text>\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n                <View style = {{width: '90%', marginBottom: 25, maxHeight: '80%'}}>\n                    <ScrollView>\n\t\t\t\t\t\t<Accordion\n\t\t\t\t\t\t\tactiveSections={activeSections}\n\t\t\t\t\t\t\tsections={sections}\n\t\t\t\t\t\t\trenderHeader={listTitle}\n\t\t\t\t\t\t\trenderContent={itemList}\n\t\t\t\t\t\t\tonChange={setSections}\n\t\t\t\t\t\t\tunderlayColor='#f2f2f2'\n\t\t\t\t\t\t\texpandMultiple={true}\n\t\t\t\t\t\t/>\n                    </ScrollView>\n                </View>\n\t\t\t</ShadowedBox>\n\t\t</View>\n\t);\n}\n\nconst styles = StyleSheet.create({\n\tcontainer: {\n\t\tflex: 1,\n\t\tbackgroundColor: '#f2f2f2',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'flex-start',\n\t},\n\trowView: {\n        width: \"100%\",\n        flexDirection: \"column\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"flex-end\",\n\t\tborderBottomColor: \"grey\",\n        borderBottomWidth: StyleSheet.hairlineWidth,\n        padding: 5,\n\t},\n\tsectionTitle: {\n        color: \"black\",\n        fontFamily: \"Arial-BoldMT\",\n        fontSize: 20,\n        fontWeight: \"bold\",\n        textAlign: \"left\",\n\t},\n\trowTitle: {\n        color: \"#5C5A5A\",\n        fontFamily: \"Arial-BoldMT\",\n        fontSize: 16,\n        fontWeight: \"bold\",\n\t\ttextAlign: \"left\",\n\t\tmarginBottom: 2,\n\t},\n\trowText: {\n        color: \"#5C5A5A\",\n        fontFamily: \"Arial\",\n\t\tfontSize: 16,\n\t\tfontWeight: \"normal\",\n        textAlign: \"left\",\n\t}\n});"]},"metadata":{},"sourceType":"module"}