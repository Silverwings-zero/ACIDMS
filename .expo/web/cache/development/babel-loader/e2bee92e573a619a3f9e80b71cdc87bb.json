{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/Terminator/Desktop/Spring2021/CS4440/ACIDMS/screens/IndividualStationInventoryDetailedDataScreen.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport React, { useState, useEffect } from 'react';\nimport ShadowedBox from 'components/ShadowedBox';\nimport { ScrollView } from 'react-native-gesture-handler';\nimport Accordion from 'react-native-collapsible/Accordion';\nimport Station, { getGlobalStation } from 'model/Station';\nexport default function IndividualStationInventoryDetailedDataScreen(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var stationId = route.params['stationId'];\n\n  var _useState = useState(\" \"),\n      _useState2 = _slicedToArray(_useState, 2),\n      station = _useState2[0],\n      setStation = _useState2[1];\n\n  var _useState3 = useState([0]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      activeSections = _useState4[0],\n      setSections = _useState4[1];\n\n  var _useState5 = useState([0]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      activeTablets = _useState6[0],\n      setActiveTablets = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      tablets = _useState8[0],\n      setTablets = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      availItems = _useState10[0],\n      setAvail = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      soldItems = _useState12[0],\n      setSold = _useState12[1];\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      totalItems = _useState14[0],\n      setTotal = _useState14[1];\n\n  var sections = ['avail', 'sold'];\n  var images = {\n    dropDownIcon: require('assets/drop-down-arrow.png'),\n    dropUpIcon: require('assets/drop-up-arrow.png')\n  };\n  useEffect(function () {\n    var station = getGlobalStation(stationId);\n    setStation(station.key);\n\n    var _Station$getDetailedD = Station.getDetailedData(stationId),\n        _Station$getDetailedD2 = _slicedToArray(_Station$getDetailedD, 3),\n        avail = _Station$getDetailedD2[0],\n        sold = _Station$getDetailedD2[1],\n        total = _Station$getDetailedD2[2];\n\n    setAvail(avail);\n    setSold(sold);\n    setTotal(total);\n    var tabletIds = [];\n    sold.map(function (tablet) {\n      tabletIds.push(tablet.tabletId);\n    });\n    setTablets(tabletIds);\n  }, []);\n\n  var textColor = function textColor(text) {\n    var rate = Number(text);\n\n    if (rate < 26) {\n      return '#F71E0C';\n    } else if (rate < 70) {\n      return '#E8BD38';\n    }\n\n    return '#1CD338';\n  };\n\n  var total = function total(text) {\n    var res = 0;\n\n    if (text == 'total') {\n      totalItems.map(function (num) {\n        return res += num;\n      });\n    } else if (text == 'avail') {\n      availItems.map(function (item) {\n        return res += item.avail;\n      });\n    } else if (text == 'sold') {\n      soldItems.map(function (tablet) {\n        tablet.sold.map(function (item) {\n          return res += item.sold;\n        });\n      });\n    } else {\n      soldItems.map(function (tablet) {\n        if (tablet.tabletId == text) {\n          tablet.sold.map(function (item) {\n            return res += item.sold;\n          });\n        }\n      });\n    }\n\n    return res;\n  };\n\n  var percent = function percent(a, b) {\n    if (Number(b) == 0) {\n      return 0;\n    }\n\n    return Math.round(a * 100 / b);\n  };\n\n  var totalValue = function totalValue(text) {\n    var res = 0;\n\n    if (text == 'total') {\n      availItems.map(function (item) {\n        return res += total[item.key] * item.price;\n      });\n    } else if (text == 'avail') {\n      availItems.map(function (item) {\n        return res += item.avail * item.price;\n      });\n    } else if (text == 'sold') {\n      soldItems.map(function (tablet) {\n        tablet.sold.map(function (item) {\n          return res += item.sold * item.price;\n        });\n      });\n    } else {\n      soldItems.map(function (tablet) {\n        if (tablet.tabletId == text) {\n          tablet.sold.map(function (item) {\n            return res += item.sold * item.price;\n          });\n        }\n      });\n    }\n\n    return res;\n  };\n\n  var getTitle = function getTitle(text) {\n    if (text == 'avail') {\n      return 'Available';\n    } else {\n      return 'Sold';\n    }\n  };\n\n  var getImage = function getImage(text) {\n    if (text == 'avail' || text == 'sold') {\n      var index = sections.findIndex(function (item) {\n        return item === text;\n      });\n\n      if (activeSections.findIndex(function (item) {\n        return item === index;\n      }) > -1) {\n        return images.dropUpIcon;\n      } else {\n        return images.dropDownIcon;\n      }\n    } else {\n      var _index = tablets.findIndex(function (item) {\n        return item === text;\n      });\n\n      if (activeTablets.findIndex(function (item) {\n        return item === _index;\n      }) > -1) {\n        return images.dropUpIcon;\n      } else {\n        return images.dropDownIcon;\n      }\n    }\n  };\n\n  var formatNum = function formatNum(num) {\n    if (num != null) {\n      return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n    }\n  };\n\n  var tabletItemList = function tabletItemList(text) {\n    var tablet = soldItems.find(function (item) {\n      return item.tabletId == text;\n    });\n    return React.createElement(View, {\n      style: {\n        marginLeft: 30\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 10\n      }\n    }, tablet.sold.map(function (item) {\n      return React.createElement(View, {\n        style: styles.rowView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 6\n        }\n      }, React.createElement(View, {\n        style: {\n          width: \"100%\",\n          flexDirection: \"row\",\n          justifyContent: \"space-between\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 7\n        }\n      }, React.createElement(Text, {\n        style: styles.rowTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 8\n        }\n      }, item.name), React.createElement(Text, {\n        style: _objectSpread(_objectSpread({}, styles.rowTitle), {}, {\n          color: textColor(percent(item.sold, totalItems[item.key])),\n          fontSize: 20,\n          textAlign: \"right\",\n          flex: 1\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 8\n        }\n      }, percent(item.sold, totalItems[item.key]), \"%\")), React.createElement(View, {\n        style: {\n          width: \"100%\",\n          flexDirection: \"row\",\n          justifyContent: \"space-between\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 7\n        }\n      }, React.createElement(Text, {\n        style: styles.rowText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 8\n        }\n      }, \" Qty: \", formatNum(item.sold), \" of \", formatNum(totalItems[item.key])), React.createElement(Text, {\n        style: styles.rowText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 8\n        }\n      }, \"$ \", formatNum(item.sold * item.price), \" \")));\n    }));\n  };\n\n  var itemList = function itemList(text) {\n    if (text == 'avail') {\n      return React.createElement(View, {\n        style: {\n          marginLeft: 30\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }\n      }, availItems.map(function (item) {\n        return React.createElement(View, {\n          style: styles.rowView,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 7\n          }\n        }, React.createElement(View, {\n          style: {\n            width: \"100%\",\n            flexDirection: \"row\",\n            justifyContent: \"space-between\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 8\n          }\n        }, React.createElement(Text, {\n          style: styles.rowTitle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 9\n          }\n        }, item.name), React.createElement(Text, {\n          style: _objectSpread(_objectSpread({}, styles.rowTitle), {}, {\n            color: textColor(percent(item.avail, totalItems[item.key])),\n            fontSize: 20,\n            textAlign: \"right\",\n            flex: 1\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 9\n          }\n        }, percent(item.avail, totalItems[item.key]), \"%\")), React.createElement(View, {\n          style: {\n            width: \"100%\",\n            flexDirection: \"row\",\n            justifyContent: \"space-between\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 8\n          }\n        }, React.createElement(Text, {\n          style: styles.rowText,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 9\n          }\n        }, \" Qty: \", formatNum(item.avail), \" of \", formatNum(totalItems[item.key])), React.createElement(Text, {\n          style: styles.rowText,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 9\n          }\n        }, \"$ \", formatNum(item.avail * item.price), \" \")));\n      }));\n    } else {\n      return React.createElement(View, {\n        style: {\n          marginLeft: 30\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }\n      }, React.createElement(Accordion, {\n        activeSections: activeTablets,\n        sections: tablets,\n        renderHeader: listTitle,\n        renderContent: tabletItemList,\n        onChange: setActiveTablets,\n        underlayColor: \"#f2f2f2\",\n        expandMultiple: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 5\n        }\n      }));\n    }\n  };\n\n  var listTitle = function listTitle(text) {\n    if (text == 'avail' || text == 'sold') {\n      return React.createElement(View, {\n        style: styles.rowView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 5\n        }\n      }, React.createElement(View, {\n        style: {\n          width: \"100%\",\n          height: 20,\n          flexDirection: \"row\",\n          alignItems: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 6\n        }\n      }, React.createElement(Text, {\n        style: styles.rowTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 7\n        }\n      }, getTitle(text), \":\"), React.createElement(Image, {\n        source: getImage(text),\n        style: {\n          width: \"5%\",\n          marginHorizontal: 10,\n          tintColor: \"grey\"\n        },\n        resizeMode: \"contain\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 7\n        }\n      })), React.createElement(View, {\n        style: {\n          width: \"100%\",\n          flexDirection: \"row\",\n          justifyContent: \"space-between\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 6\n        }\n      }, React.createElement(Text, {\n        style: styles.rowText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 7\n        }\n      }, \" Qty: \", formatNum(total(text)), \" of \", formatNum(total('total'))), React.createElement(Text, {\n        style: styles.rowText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 7\n        }\n      }, \"$ \", formatNum(totalValue(text)), \" \")));\n    } else {\n      return React.createElement(View, {\n        style: styles.rowView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 5\n        }\n      }, React.createElement(View, {\n        style: {\n          width: \"100%\",\n          height: 20,\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 6\n        }\n      }, React.createElement(Text, {\n        style: styles.rowTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 7\n        }\n      }, \"Tablet \", text, \":\"), React.createElement(Image, {\n        source: getImage(text),\n        style: {\n          width: \"5%\",\n          marginHorizontal: 10,\n          tintColor: \"grey\"\n        },\n        resizeMode: \"contain\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 7\n        }\n      }), React.createElement(Text, {\n        style: _objectSpread(_objectSpread({}, styles.rowTitle), {}, {\n          color: textColor(percent(total(text), total('sold'))),\n          fontSize: 20,\n          textAlign: \"right\",\n          flex: 1\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 7\n        }\n      }, percent(total(text), total('sold')), \"%\")), React.createElement(View, {\n        style: {\n          width: \"100%\",\n          flexDirection: \"row\",\n          justifyContent: \"space-between\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 6\n        }\n      }, React.createElement(Text, {\n        style: styles.rowText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 7\n        }\n      }, \" Qty: \", formatNum(total(text)), \" of \", formatNum(total('sold'))), React.createElement(Text, {\n        style: styles.rowText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 7\n        }\n      }, \"$ \", formatNum(totalValue(text)), \" \")));\n    }\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 3\n    }\n  }, React.createElement(ShadowedBox, {\n    width: '90%',\n    margin: 10,\n    justifyContent: 'flex-start',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 4\n    }\n  }, React.createElement(View, {\n    style: {\n      width: '90%',\n      marginTop: 25,\n      marginBottom: 10,\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"flex-start\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: styles.sectionTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 6\n    }\n  }, \"Station \", station, \" Inventory:\"), React.createElement(View, {\n    style: {\n      flexDirection: \"column\",\n      justifyContent: \"flex-end\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 6\n    }\n  }, React.createElement(Text, {\n    style: _objectSpread(_objectSpread({}, styles.sectionTitle), {}, {\n      color: textColor(percent(total('avail'), total('total'))),\n      textAlign: 'right',\n      fontSize: 30\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }\n  }, percent(total('avail'), total('total')), \"%\"), React.createElement(Text, {\n    style: _objectSpread(_objectSpread({}, styles.rowText), {}, {\n      color: textColor(percent(total('avail'), total('total'))),\n      fontSize: 14\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }\n  }, \"Available Inventory\"))), React.createElement(View, {\n    style: {\n      width: '90%',\n      marginBottom: 25,\n      maxHeight: '80%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 17\n    }\n  }, React.createElement(ScrollView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 21\n    }\n  }, React.createElement(Accordion, {\n    activeSections: activeSections,\n    sections: sections,\n    renderHeader: listTitle,\n    renderContent: itemList,\n    onChange: setSections,\n    underlayColor: \"#f2f2f2\",\n    expandMultiple: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 7\n    }\n  })))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f2f2f2',\n    alignItems: 'center',\n    justifyContent: 'flex-start'\n  },\n  rowView: {\n    width: \"100%\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    alignItems: \"flex-end\",\n    borderBottomColor: \"grey\",\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    padding: 5\n  },\n  sectionTitle: {\n    color: \"black\",\n    fontFamily: \"Arial-BoldMT\",\n    fontSize: 20,\n    fontWeight: \"bold\",\n    textAlign: \"left\"\n  },\n  rowTitle: {\n    color: \"#5C5A5A\",\n    fontFamily: \"Arial-BoldMT\",\n    fontSize: 16,\n    fontWeight: \"bold\",\n    textAlign: \"left\",\n    marginBottom: 2\n  },\n  rowText: {\n    color: \"#5C5A5A\",\n    fontFamily: \"Arial\",\n    fontSize: 16,\n    fontWeight: \"normal\",\n    textAlign: \"left\"\n  }\n});","map":{"version":3,"sources":["/Users/Terminator/Desktop/Spring2021/CS4440/ACIDMS/screens/IndividualStationInventoryDetailedDataScreen.js"],"names":["React","useState","useEffect","ShadowedBox","ScrollView","Accordion","Station","getGlobalStation","IndividualStationInventoryDetailedDataScreen","route","navigation","stationId","params","station","setStation","activeSections","setSections","activeTablets","setActiveTablets","tablets","setTablets","availItems","setAvail","soldItems","setSold","totalItems","setTotal","sections","images","dropDownIcon","require","dropUpIcon","key","getDetailedData","avail","sold","total","tabletIds","map","tablet","push","tabletId","textColor","text","rate","Number","res","num","item","percent","a","b","Math","round","totalValue","price","getTitle","getImage","index","findIndex","formatNum","toString","replace","tabletItemList","find","marginLeft","styles","rowView","width","flexDirection","justifyContent","rowTitle","name","color","fontSize","textAlign","flex","rowText","itemList","listTitle","height","alignItems","marginHorizontal","tintColor","container","marginTop","marginBottom","sectionTitle","maxHeight","StyleSheet","create","backgroundColor","borderBottomColor","borderBottomWidth","hairlineWidth","padding","fontFamily","fontWeight"],"mappings":"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","sourcesContent":["import { StyleSheet, Text, View, Image } from 'react-native';\nimport React, { useState, useEffect } from 'react';\nimport ShadowedBox from 'components/ShadowedBox';\nimport { ScrollView } from 'react-native-gesture-handler';\nimport Accordion from 'react-native-collapsible/Accordion';\nimport Station, { getGlobalStation } from 'model/Station';\n\nexport default function IndividualStationInventoryDetailedDataScreen({ route, navigation }) {\n\n\tconst stationId = route.params['stationId'];\n\n\tconst [station, setStation] = useState(\" \");\n\tconst [activeSections, setSections] = useState([0]);\n\tconst [activeTablets, setActiveTablets] = useState([0]);\n\tconst [tablets, setTablets] = useState([]);\n\tconst [availItems, setAvail] = useState([]);\n\tconst [soldItems, setSold] = useState([]);\n\tconst [totalItems, setTotal] = useState([]);\n\tconst sections = ['avail', 'sold'];\n\tconst images = {\n\t\tdropDownIcon: require('assets/drop-down-arrow.png'),\n\t\tdropUpIcon: require('assets/drop-up-arrow.png')\n\t}\n\n\tuseEffect(() => {\n\t\tvar station = getGlobalStation(stationId);\n\t\tsetStation(station.key);\n\t\tvar [avail, sold, total] = Station.getDetailedData(stationId);\n\t\tsetAvail(avail);\n\t\tsetSold(sold);\n\t\tsetTotal(total);\n\t\tvar tabletIds = [];\n\t\tsold.map(tablet => {\n\t\t\ttabletIds.push(tablet.tabletId);\n\t\t});\n\t\tsetTablets(tabletIds);\n\t}, [])\n\n\tconst textColor = (text) => {\n\t\tlet rate = Number(text);\n        if (rate < 26) {\n\t\t\treturn '#F71E0C';\n\t\t} else if (rate < 70) {\n\t\t\treturn '#E8BD38';\n\t\t}\n        return '#1CD338';\n\t}\n\n\tconst total = (text) => {\n\t\tlet res = 0;\n\t\tif (text == 'total') {\n\t\t\ttotalItems.map(num => res += num);\n\t\t} else if (text == 'avail') {\n\t\t\tavailItems.map(item => res += item.avail);\n\t\t} else if (text == 'sold') {\n\t\t\tsoldItems.map(tablet => {\n\t\t\t\ttablet.sold.map(item => res += item.sold);\n\t\t\t});\n\t\t} else {\n\t\t\tsoldItems.map(tablet => {\n\t\t\t\tif (tablet.tabletId == text) {\n\t\t\t\t\ttablet.sold.map(item => res += item.sold);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn res;\n\t}\n\n\tconst percent = (a, b) => {\n\t\tif (Number(b) == 0) {\n\t\t\treturn 0\n\t\t}\n\t\treturn  Math.round(a * 100 / b);\n\t}\n\n\tconst totalValue = (text) => {\n\t\tlet res = 0;\n\t\tif (text == 'total') {\n\t\t\tavailItems.map(item => res += total[item.key] * item.price);\n\t\t} else if (text == 'avail') {\n\t\t\tavailItems.map(item => res += item.avail * item.price);\n\t\t} else if (text == 'sold') {\n\t\t\tsoldItems.map(tablet => {\n\t\t\t\ttablet.sold.map(item => res += item.sold * item.price);\n\t\t\t});\n\t\t} else {\n\t\t\tsoldItems.map(tablet => {\n\t\t\t\tif (tablet.tabletId == text) {\n\t\t\t\t\ttablet.sold.map(item => res += item.sold * item.price);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn res;\n\t}\n\n\tconst getTitle = (text) => {\n\t\tif (text == 'avail') {\n\t\t\treturn 'Available'\n\t\t} else {\n\t\t\treturn 'Sold'\n\t\t}\n\t}\n\n\tconst getImage = (text) => {\n\t\tif (text == 'avail' || text == 'sold') {\n\t\t\tlet index = sections.findIndex(item => item === text)\n\t\t\tif (activeSections.findIndex(item => item === index) > -1) {\n\t\t\t\treturn images.dropUpIcon\n\t\t\t} else {\n\t\t\t\treturn images.dropDownIcon\n\t\t\t}\n\t\t} else {\n\t\t\tlet index = tablets.findIndex(item => item === text)\n\t\t\tif (activeTablets.findIndex(item => item === index) > -1) {\n\t\t\t\treturn images.dropUpIcon\n\t\t\t} else {\n\t\t\t\treturn images.dropDownIcon\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\n\tconst formatNum = (num) => {\n\t\tif (num != null) {\n\t\t\treturn num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n\t\t}\n\t}\n\n\tconst tabletItemList = (text) => {\n\t\tlet tablet = soldItems.find(item => item.tabletId == text);\n\t\treturn <View style={{marginLeft: 30}}>\n\t\t\t{tablet.sold.map(item => {\n\t\t\t\treturn (\n\t\t\t\t\t<View style={styles.rowView}>\n\t\t\t\t\t\t<View style={{\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\tflexDirection: \"row\",\n\t\t\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<Text style={styles.rowTitle}>{item.name}</Text>\n\t\t\t\t\t\t\t<Text style={{\n\t\t\t\t\t\t\t\t...styles.rowTitle, \n\t\t\t\t\t\t\t\tcolor: textColor(percent(item.sold, totalItems[item.key])), \n\t\t\t\t\t\t\t\tfontSize: 20,\n\t\t\t\t\t\t\t\ttextAlign: \"right\",\n\t\t\t\t\t\t\t\tflex: 1\n\t\t\t\t\t\t\t}}>{percent(item.sold, totalItems[item.key])}%</Text>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t\t<View style={{\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\tflexDirection: \"row\",\n\t\t\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<Text style={styles.rowText}> Qty: {formatNum(item.sold)} of {formatNum(totalItems[item.key])}</Text>\n\t\t\t\t\t\t\t<Text style={styles.rowText}>$ {formatNum(item.sold * item.price)} </Text>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</View>\n\t\t\t\t);\n\t\t\t})}\n\t\t</View>\n\t}\n\n\tconst itemList = (text) => {\n\t\tif (text == 'avail') {\n\t\t\treturn <View style={{marginLeft: 30}}>\n\t\t\t\t{availItems.map(item => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<View style={styles.rowView}>\n\t\t\t\t\t\t\t<View style={{\n\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\tflexDirection: \"row\",\n\t\t\t\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<Text style={styles.rowTitle}>{item.name}</Text>\n\t\t\t\t\t\t\t\t<Text style={{\n\t\t\t\t\t\t\t\t\t...styles.rowTitle, \n\t\t\t\t\t\t\t\t\tcolor: textColor(percent(item.avail, totalItems[item.key])), \n\t\t\t\t\t\t\t\t\tfontSize: 20,\n\t\t\t\t\t\t\t\t\ttextAlign: \"right\",\n\t\t\t\t\t\t\t\t\tflex: 1\n\t\t\t\t\t\t\t\t}}>{percent(item.avail, totalItems[item.key])}%</Text>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t<View style={{\n\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\tflexDirection: \"row\",\n\t\t\t\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<Text style={styles.rowText}> Qty: {formatNum(item.avail)} of {formatNum(totalItems[item.key])}</Text>\n\t\t\t\t\t\t\t\t<Text style={styles.rowText}>$ {formatNum(item.avail * item.price)} </Text>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</View>\n\t\t} else {\n\t\t\treturn <View style={{marginLeft: 30}}>\n\t\t\t\t<Accordion\n\t\t\t\t\tactiveSections={activeTablets}\n\t\t\t\t\tsections={tablets}\n\t\t\t\t\trenderHeader={listTitle}\n\t\t\t\t\trenderContent={tabletItemList}\n\t\t\t\t\tonChange={setActiveTablets}\n\t\t\t\t\tunderlayColor='#f2f2f2'\n\t\t\t\t\texpandMultiple={true}\n\t\t\t\t/>\n\t\t\t</View>\n\t\t}\n\t}\n\n\tconst listTitle = (text) => {\n\t\tif (text == 'avail' || text == 'sold') {\n\t\t\treturn (\n\t\t\t\t<View style={styles.rowView}>\n\t\t\t\t\t<View style={{\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\theight: 20,\n\t\t\t\t\t\tflexDirection: \"row\",\n\t\t\t\t\t\talignItems: \"center\"\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Text style={styles.rowTitle}>{getTitle(text)}:</Text>\n\t\t\t\t\t\t<Image \n\t\t\t\t\t\t\tsource={getImage(text)}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\twidth: \"5%\",\n\t\t\t\t\t\t\t\tmarginHorizontal: 10,\n\t\t\t\t\t\t\t\ttintColor: \"grey\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tresizeMode=\"contain\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</View>\n\t\t\t\t\t<View style={{\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\tflexDirection: \"row\",\n\t\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Text style={styles.rowText}> Qty: {formatNum(total(text))} of {formatNum(total('total'))}</Text>\n\t\t\t\t\t\t<Text style={styles.rowText}>$ {formatNum(totalValue(text))} </Text>\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<View style={styles.rowView}>\n\t\t\t\t\t<View style={{\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\theight: 20,\n\t\t\t\t\t\tflexDirection: \"row\",\n\t\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\t\talignItems: \"center\"\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Text style={styles.rowTitle}>Tablet {text}:</Text>\n\t\t\t\t\t\t<Image \n\t\t\t\t\t\t\tsource={getImage(text)}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\twidth: \"5%\",\n\t\t\t\t\t\t\t\tmarginHorizontal: 10,\n\t\t\t\t\t\t\t\ttintColor: \"grey\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tresizeMode=\"contain\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Text style={{\n\t\t\t\t\t\t\t...styles.rowTitle, \n\t\t\t\t\t\t\tcolor: textColor(percent(total(text), total('sold'))), \n\t\t\t\t\t\t\tfontSize: 20,\n\t\t\t\t\t\t\ttextAlign: \"right\",\n\t\t\t\t\t\t\tflex: 1\n\t\t\t\t\t\t}}>{percent(total(text), total('sold'))}%</Text>\n\t\t\t\t\t</View>\n\t\t\t\t\t<View style={{\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\tflexDirection: \"row\",\n\t\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Text style={styles.rowText}> Qty: {formatNum(total(text))} of {formatNum(total('sold'))}</Text>\n\t\t\t\t\t\t<Text style={styles.rowText}>$ {formatNum(totalValue(text))} </Text>\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n\t\t\t);\n\t\t}\t\t\n\t}\n\n\treturn (\n\t\t<View style={styles.container}>\n\t\t\t<ShadowedBox width={'90%'} margin={10} justifyContent={'flex-start'}>\n\t\t\t\t<View style={{\n\t\t\t\t\twidth: '90%',\n\t\t\t\t\tmarginTop: 25,\n                    marginBottom: 10,\n                    flexDirection: \"row\",\n                    justifyContent: \"space-between\",\n\t\t\t\t\talignItems: \"flex-start\",\n\t\t\t\t}}>\n\t\t\t\t\t<Text style={styles.sectionTitle}>Station {station} Inventory:</Text>\n\t\t\t\t\t<View style={{\n\t\t\t\t\t\tflexDirection: \"column\",\n\t\t\t\t\t\tjustifyContent: \"flex-end\",\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Text style={{\n\t\t\t\t\t\t\t...styles.sectionTitle,\n\t\t\t\t\t\t\tcolor: textColor(percent(total('avail'), total('total'))),\n\t\t\t\t\t\t\ttextAlign: 'right',\n\t\t\t\t\t\t\tfontSize: 30\n\t\t\t\t\t\t}}>{percent(total('avail'), total('total'))}%</Text>\n\t\t\t\t\t\t<Text style={{\n\t\t\t\t\t\t\t...styles.rowText,\n\t\t\t\t\t\t\tcolor: textColor(percent(total('avail'), total('total'))),\n\t\t\t\t\t\t\tfontSize: 14\n\t\t\t\t\t\t}}>Available Inventory</Text>\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n                <View style = {{width: '90%', marginBottom: 25, maxHeight: '80%'}}>\n                    <ScrollView>\n\t\t\t\t\t\t<Accordion\n\t\t\t\t\t\t\tactiveSections={activeSections}\n\t\t\t\t\t\t\tsections={sections}\n\t\t\t\t\t\t\trenderHeader={listTitle}\n\t\t\t\t\t\t\trenderContent={itemList}\n\t\t\t\t\t\t\tonChange={setSections}\n\t\t\t\t\t\t\tunderlayColor='#f2f2f2'\n\t\t\t\t\t\t\texpandMultiple={true}\n\t\t\t\t\t\t/>\n                    </ScrollView>\n                </View>\n\t\t\t</ShadowedBox>\n\t\t</View>\n\t);\n}\n\nconst styles = StyleSheet.create({\n\tcontainer: {\n\t\tflex: 1,\n\t\tbackgroundColor: '#f2f2f2',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'flex-start',\n\t},\n\trowView: {\n        width: \"100%\",\n        flexDirection: \"column\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"flex-end\",\n\t\tborderBottomColor: \"grey\",\n        borderBottomWidth: StyleSheet.hairlineWidth,\n        padding: 5,\n\t},\n\tsectionTitle: {\n        color: \"black\",\n        fontFamily: \"Arial-BoldMT\",\n        fontSize: 20,\n        fontWeight: \"bold\",\n        textAlign: \"left\",\n\t},\n\trowTitle: {\n        color: \"#5C5A5A\",\n        fontFamily: \"Arial-BoldMT\",\n        fontSize: 16,\n        fontWeight: \"bold\",\n\t\ttextAlign: \"left\",\n\t\tmarginBottom: 2,\n\t},\n\trowText: {\n        color: \"#5C5A5A\",\n        fontFamily: \"Arial\",\n\t\tfontSize: 16,\n\t\tfontWeight: \"normal\",\n        textAlign: \"left\",\n\t}\n});"]},"metadata":{},"sourceType":"module"}